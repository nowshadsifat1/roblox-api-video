const rbx = require('noblox.js')

var express = require("express");
var bodyParser = require("body-parser");
var app = express();
var dotenv = require('dotenv').config();

app.use(express.static(__dirname + '/public'));

app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: true }));

var routes = require("./routes.js")(app);
var cookie = "_|WARNING:-DO-NOT-SHARE-THIS.--Sharing-this-will-allow-someone-to-log-in-as-you-and-to-steal-your-ROBUX-and-items.|_B0BE3F737EF7E4039FF6E3761E1DD1D634F44E07CDB620B69C1F5A2B647D907AD99088C91FAFEA6207AAF67EDE0D93C1A1AF0EF11A5BD2BBEDC4C54BB0927DEA4A914B643463B5232F299172040A94E1713D739925485BE069A2A65F11CD901EFEF296BDB9BE3795FC0885E2C9C5C8FA2ED623A2813B38FEC17609B99479B295618D0419C4C2CD07EBB9C0428B76179782C6B786A15BB5AC7D36B81CFDE5F1576FFC5D48AD888C6F9E36813A94CABDEE9733D7A3B4399617D90CF670081897EF6DBBF8FD366FD4F328A9DDFF81B877D0F80375F2EF8F6CE916375A9F20A5B4691F75E6FA6E829E08F932ACEF545AD01CE482EF29AB50327F67F44406A4E006D9700EE3ED30BBC2610C87839C260A6E6B8BDC6891BA5A44B73A44314C3FD44998A765CB929CCB57B82FBEECF75B853DA6854179FAFFA53EC2C8312E7A9649F2364359D60D8A4D844AA1C492965496528BED5BAE1897348C2FBB68D04BC55C604FB4BE894FAC5BE8EFEB35D065A2B6580BFEA60E7D"

async function login() {
    const currentUser = await rbx.setCookie(cookie)

    console.log(`Logged in as ${currentUser.UserName} [${currentUser.UserID}]`)
}


const port = 3000;

app.listen(process.env.PORT || port, () => console.log('listening at' + port));

login()
